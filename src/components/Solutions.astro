<section class="solutions-section" id="solutions">
	<div class="solutions-container">
		<!-- Left Column - Image Gallery -->
		<div class="solutions-gallery">
			<div class="gallery-main-image animate-on-scroll" data-delay="0">
				<img src="/our-services-main-image.webp" alt="MagneGrip exhaust removal system" />
			</div>

			<!-- Feature Cards Overlay -->
			<div class="feature-cards">
				<a href="#air-purification" class="feature-card animate-on-scroll" data-delay="100">
					<div class="feature-card-image">
						<img src="/air-purification-placeholder-1.webp" alt="Air Purification" />
					</div>
					<div class="feature-card-footer">
						<span class="feature-card-title">AIR PURIFICATION</span>
						<div class="feature-card-arrow">
							<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M4 12L12 4M12 4H6M12 4V10" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
						</div>
					</div>
				</a>

				<a href="#custom-solutions" class="feature-card animate-on-scroll" data-delay="200">
					<div class="feature-card-image">
						<img src="/custom-solutions-placeholder-1.webp" alt="Custom Solutions" />
					</div>
					<div class="feature-card-footer">
						<span class="feature-card-title">CUSTOM SOLUTIONS</span>
						<div class="feature-card-arrow">
							<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M4 12L12 4M12 4H6M12 4V10" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
						</div>
					</div>
				</a>
			</div>
		</div>

		<!-- Right Column - Content -->
		<div class="solutions-content">
			<div class="solutions-pill animate-on-scroll" data-delay="0">MAGNEGRIP SOLUTIONS</div>

			<h2 class="solutions-heading animate-on-scroll" data-delay="100">Complete Clean Air Systems</h2>

			<div class="solutions-description animate-on-scroll" data-delay="200">
				<p>Industry-leading exhaust removal technology designed to protect first responders from diesel exhaust exposure and reduce cancer risk.</p>
				<p>From initial consultation to installation and ongoing maintenance, we're your local partner for all MagneGrip exhaust removal needs.</p>
			</div>

			<a href="#all-solutions" class="solutions-cta-btn animate-on-scroll" data-delay="300">
				<span>SEE ALL SOLUTIONS</span>
				<div class="cta-arrow">
					<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M4 12L12 4M12 4H6M12 4V10" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
				</div>
			</a>

			<!-- Source Capture Systems Card -->
			<a href="#source-capture" class="source-capture-card animate-on-scroll" data-delay="400">
				<div class="source-capture-text">
					<h3 class="source-capture-title">SOURCE CAPTURE SYSTEMS</h3>
					<p class="source-capture-description">Direct-connect exhaust removal systems that capture 100% of diesel emissions at the tailpipe. Fully automatic with minimal maintenance.</p>
					<div class="source-capture-arrow">
						<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M4 12L12 4M12 4H6M12 4V10" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					</div>
				</div>
				<div class="source-capture-image">
					<img src="/source-capture-systems.webp" alt="Source Capture Systems" />
				</div>
			</a>
		</div>
	</div>
</section>

<style>
.solutions-section {
	background: var(--bg-dark);
	padding: 100px 60px;
}

/* Scroll Animation Styles */
.animate-on-scroll {
	opacity: 0;
	transform: translateY(30px);
	transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

.animate-on-scroll.animated {
	opacity: 1;
	transform: translateY(0);
}

.solutions-container {
	max-width: 1373px;
	margin: 0 auto;
	display: grid;
	grid-template-columns: 607px 1fr;
	gap: 100px;
	align-items: start;
}

/* Left Column - Image Gallery */
.solutions-gallery {
	position: relative;
}

.gallery-main-image {
	width: 607px;
	height: 677px;
	border-radius: 40px;
	overflow: hidden;
	position: relative;
	transition: transform 0.4s ease;
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.gallery-main-image:hover {
	transform: translateY(-8px);
	box-shadow: 0 12px 40px rgba(232, 131, 58, 0.3);
}

.gallery-main-image img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	transition: transform 0.6s ease;
}

.gallery-main-image:hover img {
	transform: scale(1.05);
}

/* Feature Cards Overlay */
.feature-cards {
	position: absolute;
	bottom: 105px;
	left: 85px;
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 20px;
	z-index: 10;
}

.feature-card {
	width: 268px;
	height: 207px;
	background: #030726;
	border-radius: 24px;
	overflow: hidden;
	text-decoration: none;
	display: flex;
	flex-direction: column;
	transition: all 0.4s ease;
	box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
}

.feature-card:hover {
	transform: translateY(-8px);
	box-shadow: 0 15px 50px rgba(232, 131, 58, 0.4);
}

.feature-card-image {
	height: 157px;
	overflow: hidden;
}

.feature-card-image img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	filter: grayscale(100%);
	transition: filter 0.4s ease, transform 0.4s ease;
}

.feature-card:hover .feature-card-image img {
	filter: grayscale(0%);
	transform: scale(1.1);
}

.feature-card-footer {
	height: 50px;
	background: #030726;
	padding: 0 15px;
	display: flex;
	justify-content: space-between;
	align-items: center;
}

.feature-card-title {
	font-family: 'Quicksand', sans-serif;
	font-size: 14px;
	font-weight: 400;
	line-height: 18px;
	color: #FFFFFF;
	transition: all 0.3s ease;
}

.feature-card:hover .feature-card-title {
	color: var(--primary-gold);
}

.feature-card-arrow {
	width: 40px;
	height: 40px;
	background: #CC5700;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.3s ease;
}

.feature-card:hover .feature-card-arrow {
	transform: scale(1.15) rotate(45deg);
	background: var(--primary-gold);
	box-shadow: 0 0 20px rgba(244, 185, 75, 0.5);
}

/* Right Column - Content */
.solutions-content {
	padding-top: 0;
}

.solutions-pill {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	height: 40px;
	border: 1px solid var(--primary-gold, #F4B94B);
	border-radius: 24px;
	padding: 11px 33px;
	font-family: 'Quicksand', sans-serif;
	font-size: 14px;
	font-weight: 500;
	color: #FFFFFF;
	margin-bottom: 24px;
	transition: all 0.3s ease;
	cursor: default;
}

.solutions-pill:hover {
	background: rgba(244, 185, 75, 0.1);
	border-color: var(--primary-orange);
	transform: scale(1.05);
	box-shadow: 0 0 20px rgba(244, 185, 75, 0.3);
}

.solutions-heading {
	font-family: 'Quicksand', sans-serif;
	font-size: 46px;
	font-weight: 400;
	line-height: 70px;
	color: #FFFFFF;
	max-width: 495px;
	margin: 0 0 14px 0;
	transition: all 0.3s ease;
	cursor: default;
}

.solutions-heading:hover {
	color: var(--primary-gold);
	text-shadow: 0 0 30px rgba(244, 185, 75, 0.4);
}

.solutions-description {
	max-width: 514px;
	margin-bottom: 48px;
}

.solutions-description p {
	font-family: 'Quicksand', sans-serif;
	font-size: 16px;
	font-weight: 400;
	line-height: 24px;
	color: #D8D8D8;
	margin: 0 0 16px 0;
	padding: 12px;
	border-radius: 8px;
	transition: all 0.3s ease;
	cursor: default;
}

.solutions-description p:hover {
	background: rgba(255, 255, 255, 0.03);
	color: #FFFFFF;
}

.solutions-description p:last-child {
	margin-bottom: 0;
}

/* CTA Button */
.solutions-cta-btn {
	display: inline-flex;
	align-items: center;
	gap: 10px;
	height: 40px;
	background: #030726;
	border: 1px solid #030726;
	border-radius: 24px;
	padding: 0 4px 0 20px;
	text-decoration: none;
	transition: all 0.3s ease;
	margin-left: 3rem;
}

.solutions-cta-btn:hover {
	background: #0a0f3a;
	transform: scale(1.05);
}

.solutions-cta-btn span {
	font-family: 'Quicksand', sans-serif;
	font-size: 14px;
	font-weight: 400;
	line-height: 24px;
	color: #FFFFFF;
	transition: all 0.3s ease;
}

.solutions-cta-btn:hover span {
	color: var(--primary-gold);
}

.cta-arrow {
	width: 36px;
	height: 36px;
	background: #CC5700;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.3s ease;
}

.solutions-cta-btn:hover .cta-arrow {
	transform: scale(1.15);
	background: var(--primary-gold);
	box-shadow: 0 0 20px rgba(244, 185, 75, 0.5);
}

/* Source Capture Systems Card */
.source-capture-card {
	display: grid;
	grid-template-columns: 1fr 291px;
	width: 562px;
	height: 271px;
	background: #030726;
	border-radius: 30px;
	text-decoration: none;
	margin-top: 116px;
	position: relative;
	box-shadow: 6px 4px 58.2px rgba(0, 0, 0, 0.2);
	transition: all 0.4s ease;
}

.source-capture-card::before {
	content: '';
	position: absolute;
	top: 2rem;
	left: 2rem;
	width: 100%;
	height: 100%;
	border: 2px solid var(--primary-orange);
	border-radius: 30px;
	z-index: 0;
	transition: all 0.4s ease;
}

.source-capture-card:hover {
	transform: translateY(-8px);
	box-shadow: 0 15px 50px rgba(232, 131, 58, 0.4);
}

.source-capture-card:hover::before {
	box-shadow: 0 0 30px rgba(232, 131, 58, 0.4);
	border-color: var(--primary-gold);
}

.source-capture-text {
	padding: 27px 18px;
	display: flex;
	flex-direction: column;
	position: relative;
	z-index: 1;
	background: #030726;
	border-radius: 30px 0 0 30px;
}

.source-capture-title {
	font-family: 'Quicksand', sans-serif;
	font-size: 20px;
	font-weight: 400;
	line-height: 26px;
	color: #FFFFFF;
	margin: 0 0 13px 0;
	transition: all 0.3s ease;
}

.source-capture-card:hover .source-capture-title {
	color: var(--primary-gold);
	text-shadow: 0 0 20px rgba(244, 185, 75, 0.4);
}

.source-capture-description {
	font-family: 'Quicksand', sans-serif;
	font-size: 16px;
	font-weight: 400;
	line-height: 24px;
	color: #D8D8D8;
	margin: 0;
	transition: all 0.3s ease;
}

.source-capture-card:hover .source-capture-description {
	color: #FFFFFF;
}

.source-capture-arrow {
	width: 40px;
	height: 40px;
	background: #CC5700;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	position: absolute;
	bottom: 12px;
	right: 12px;
	transition: all 0.3s ease;
}

.source-capture-card:hover .source-capture-arrow {
	transform: scale(1.15) rotate(45deg);
	background: var(--primary-gold);
	box-shadow: 0 0 20px rgba(244, 185, 75, 0.5);
}

.source-capture-image {
	width: 291px;
	height: 271px;
	overflow: hidden;
	position: relative;
	z-index: 1;
	border-radius: 0 30px 30px 0;
}

.source-capture-image img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	filter: grayscale(100%);
	transition: filter 0.4s ease, transform 0.4s ease;
}

.source-capture-card:hover .source-capture-image img {
	filter: grayscale(0%);
	transform: scale(1.1);
}

/* Solutions Section Responsive */
@media (max-width: 1400px) {
	.solutions-section {
		padding: 80px 40px;
	}

	.solutions-container {
		grid-template-columns: 500px 1fr;
		gap: 60px;
	}

	.gallery-main-image {
		width: 500px;
		height: 560px;
	}

	.feature-cards {
		bottom: 80px;
		left: 60px;
	}

	.feature-card {
		width: 220px;
		height: 180px;
	}

	.feature-card-image {
		height: 130px;
	}

	.solutions-heading {
		font-size: 40px;
		line-height: 55px;
	}

	.source-capture-card {
		width: 100%;
		max-width: 520px;
		margin-top: 80px;
	}
}

@media (max-width: 1200px) {
	.solutions-container {
		grid-template-columns: 450px 1fr;
		gap: 50px;
	}

	.gallery-main-image {
		width: 450px;
		height: 500px;
	}

	.feature-cards {
		bottom: 60px;
		left: 40px;
		gap: 16px;
	}

	.feature-card {
		width: 190px;
		height: 160px;
	}

	.feature-card-image {
		height: 110px;
	}

	.feature-card-footer {
		height: 50px;
		padding: 0 12px;
	}

	.feature-card-title {
		font-size: 12px;
	}

	.feature-card-arrow {
		width: 34px;
		height: 34px;
	}

	.solutions-heading {
		font-size: 36px;
		line-height: 48px;
	}

	.source-capture-card {
		grid-template-columns: 1fr 240px;
		height: 240px;
		margin-top: 60px;
	}

	.source-capture-image {
		width: 240px;
		height: 240px;
	}

	.source-capture-title {
		font-size: 18px;
		line-height: 24px;
	}

	.source-capture-description {
		font-size: 14px;
		line-height: 20px;
	}
}

@media (max-width: 1024px) {
	.solutions-section {
		padding: 60px 30px;
	}

	.solutions-container {
		grid-template-columns: 1fr;
		gap: 50px;
	}

	.solutions-gallery {
		max-width: 600px;
		margin: 0 auto;
	}

	.gallery-main-image {
		width: 100%;
		height: 500px;
	}

	.feature-cards {
		position: static;
		display: flex;
		justify-content: center;
		gap: 20px;
		margin-top: 20px;
	}

	.feature-card {
		width: 220px;
		height: 180px;
	}

	.feature-card-image {
		height: 130px;
	}

	.solutions-content {
		padding-top: 0;
		max-width: 600px;
		margin: 0 auto;
		text-align: center;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.solutions-heading {
		font-size: 38px;
		line-height: 50px;
		max-width: 100%;
	}

	.solutions-description {
		max-width: 100%;
	}

	.solutions-description p {
		text-align: center;
	}

	.solutions-cta-btn {
		margin-left: 0;
	}

	.source-capture-card {
		width: 100%;
		max-width: 100%;
		grid-template-columns: 1fr 200px;
		height: auto;
		min-height: 220px;
	}

	.source-capture-image {
		width: 200px;
		height: 100%;
		min-height: 220px;
	}
}

@media (max-width: 768px) {
	.solutions-section {
		padding: 60px 24px;
	}

	.solutions-container {
		gap: 40px;
	}

	.solutions-content {
		order: -1;
	}

	/* Hide main image on mobile, make cards primary */
	.gallery-main-image {
		display: none;
	}

	.feature-cards {
		display: grid;
		grid-template-columns: 1fr;
		gap: 16px;
		margin-top: 0;
	}

	.feature-card {
		width: 100%;
		height: 280px;
	}

	.feature-card-image {
		flex: 1;
		height: auto;
	}

	.feature-card-footer {
		height: 60px;
		padding: 0 20px;
	}

	.feature-card-title {
		font-size: 16px;
		font-weight: 500;
	}

	.solutions-pill {
		font-size: 12px;
		padding: 10px 24px;
		height: auto;
		margin-bottom: 24px;
	}

	.solutions-heading {
		font-size: 32px;
		line-height: 42px;
		margin-bottom: 24px;
	}

	.solutions-description {
		margin-bottom: 32px;
	}

	.solutions-description p {
		font-size: 15px;
		line-height: 22px;
	}

	.source-capture-card {
		grid-template-columns: 1fr;
		height: auto;
		margin-top: 40px;
	}

	.source-capture-card::before {
		top: 10px;
		left: 10px;
	}

	.source-capture-text {
		padding: 24px 20px 70px;
		border-radius: 0 0 30px 30px;
	}

	.source-capture-arrow {
		bottom: 20px;
		right: 20px;
	}

	.source-capture-image {
		width: 100%;
		height: 200px;
		order: -1;
		border-radius: 30px 30px 0 0;
	}

	.source-capture-image img {
		border-radius: 30px 30px 0 0;
	}
}

@media (max-width: 480px) {
	.solutions-section {
		padding: 40px 16px;
	}

	.feature-card {
		height: 240px;
		border-radius: 20px;
	}

	.feature-card-footer {
		height: 54px;
		padding: 0 16px;
	}

	.feature-card-title {
		font-size: 15px;
	}

	.solutions-heading {
		font-size: 28px;
		line-height: 36px;
	}

	.solutions-description p {
		font-size: 14px;
		line-height: 20px;
	}

	.source-capture-card {
		border-radius: 20px;
	}

	.source-capture-card::before {
		border-radius: 20px;
		top: 8px;
		left: 8px;
	}

	.source-capture-text {
		border-radius: 0 0 20px 20px;
	}

	.source-capture-title {
		font-size: 16px;
		line-height: 22px;
	}

	.source-capture-description {
		font-size: 14px;
		line-height: 20px;
	}

	.source-capture-image {
		height: 180px;
		border-radius: 20px 20px 0 0;
	}

	.source-capture-image img {
		border-radius: 20px 20px 0 0;
	}
}
</style>

<script>
	// Scroll animation with Intersection Observer
	const observerOptions = {
		threshold: 0.1,
		rootMargin: '0px 0px -50px 0px'
	};

	const observer = new IntersectionObserver((entries) => {
		entries.forEach(entry => {
			if (entry.isIntersecting) {
				const element = entry.target;
				const delay = element.getAttribute('data-delay') || '0';

				setTimeout(() => {
					element.classList.add('animated');
				}, parseInt(delay));

				observer.unobserve(element);
			}
		});
	}, observerOptions);

	// Observe all elements with animate-on-scroll class
	document.addEventListener('DOMContentLoaded', () => {
		const animatedElements = document.querySelectorAll('.animate-on-scroll');
		animatedElements.forEach(element => observer.observe(element));
	});
</script>
